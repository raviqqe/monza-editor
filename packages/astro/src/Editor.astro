---
import "monza-editor/style.css";

const { foo } = Astro.props;
---

<monza-editor>
  <div>
    <textarea></textarea>
    <pre><code /></pre>
  </div>
</monza-editor>
<script>
  import { render } from "monza-editor";

  const element = document.getElementById("vanilla-example");

  if (!element) {
    throw new Error("No editor element");
  }

  render(element as HTMLDivElement, {
    highlight: (text) =>
      highlighter.codeToHtml(text, {
        lang: "typescript",
        structure: "inline",
        theme,
      }),
    value: `console.log("Hello, JavaScript!");`,
  });
  class MonzaEditor extends HTMLElement {
    connectedCallback() {
      // Read the message from the data attribute.
      const message = this.dataset.message;
      const button = this.querySelector("button");
      button.addEventListener("click", () => {
        alert(message);
      });
    }
  }

  customElements.define("monza-editor", MonzaEditor);
</script>
